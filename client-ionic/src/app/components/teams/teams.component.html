<ion-progress-bar type="indeterminate" *ngIf='showBar'></ion-progress-bar>
<ion-header>
  <ion-toolbar>
    <ion-buttons slot="start">
      <ion-menu-button></ion-menu-button>
    </ion-buttons>
    <ion-title>
      <div text-center>List of Teams</div>
    </ion-title>
  </ion-toolbar>
  <ion-searchbar [(ngModel)]="searchTerm" (ionChange)="setFilteredLocation()"></ion-searchbar>
</ion-header>

<ion-content *ngIf='loaded' text-center>
  <table class="table table-bordered table-striped" [mfData]="filteredData" mfSortBy="fullName" mfSortOrder="asc" #mf="mfDataTable">
    <tr>
      <td colspan=6>
        <div class='add-button-container' (click)='openAddModal()'>+</div>
      </td>
    </tr>
    <tr>
      <th></th>
      <th class="header-sort">
        <mfDefaultSorter by="fullName">Name</mfDefaultSorter>
      </th>
      <th class="header-sort">
        <mfDefaultSorter by="DoB">Date of Birth</mfDefaultSorter>
      </th>
      <!-- <th>Name</th> -->
      <!-- <th>Date of Birth</th> -->
      <th class="header-sort">
        <mfDefaultSorter by="winRatio">Win Ratio</mfDefaultSorter>
      </th>
      <th></th>
    </tr>
    <tr *ngFor="let user of mf.data">
      <td class='td-min'>
        <ion-icon name="people" class="position row-logo"></ion-icon>
      </td>
      <td><a routerLink='/teams/{{user._id}}' class="text">{{ user.fullName }}</a></td>
      <td>{{user.DoB}}</td>
      <td *ngIf='user.winRatio'>{{user.winRatio | number: '1.2-2'}}</td>
      <td *ngIf='!user.winRatio'>-</td>
      <td text-center class='td-min'>
        <ion-icon class="edit color" (click)='openEditModal(user)' name="create"></ion-icon>
      </td>
    </tr>
  </table>
</ion-content>